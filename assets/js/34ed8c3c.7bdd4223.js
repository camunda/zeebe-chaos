"use strict";(self.webpackChunkzell_chaos=self.webpackChunkzell_chaos||[]).push([[6428],{11266:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>r,default:()=>u,frontMatter:()=>o,metadata:()=>n,toc:()=>l});var n=a(41508),i=a(74848),s=a(28453);const o={layout:"posts",title:"Resiliency against ELS unavailability",date:new Date("2025-08-26T00:00:00.000Z"),categories:["chaos_experiment","bpmn"],tags:["availability"],authors:"zell"},r="Chaos Day Summary",c={authorsImageUrls:[void 0]},l=[];function h(e){const t={a:"a",p:"p",strong:"strong",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.p,{children:"Due to recent initiatives and architecture changes, we coupled us even more against the secondary storage (often Elasticsearch, but can also be OpenSearch or in the future RDBMS)."}),"\n",(0,i.jsx)(t.p,{children:"We now have one single application to run Webapps, Gateway, Broker, Exporters, etc., together. Including the new Camunda Exporter exporting all necessary data to the secondary storage. On bootstrap we need to create an expected schema, so our components work as expected, allowing Operate and Tasklist Web apps to consume the data and the exporter to export correctly. Furthermore, we have a new query API (REST API) allowing the search for available data in the secondary storage."}),"\n",(0,i.jsxs)(t.p,{children:["We have seen in previous experiments and load tests that unavailable ELS and not properly configured replicas can cause issues like the exporter not catching up or queries not succeeding. See related ",(0,i.jsx)(t.a,{href:"https://github.com/camunda/camunda/issues/35080",children:"GitHub issue"}),"."]}),"\n",(0,i.jsx)(t.p,{children:"In todays chaos day, we want to play around with the replicas setting of the indices, which can be set in the Camunda Exporter (which is in charge of writing the data to the secondary storage)."}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"TL;DR;"})," Without the index replicas set, the Camunda Exporter is directly impacted by ELS node restarts. The query API seem to handle this transparently, but changing the resulting data. Having the replicas set will cause some performance impact, as the ELS node might run into CPU throttling (as they have much more to do). ELS slowing down has an impact on processing as well due to our write throttling mechanics. This means we need to be careful with this setting, while it gives us better availability (CamundaExporter can continue when ELS nodes restart), it might come with some cost."]})]})}function u(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},28453:(e,t,a)=>{a.d(t,{R:()=>o,x:()=>r});var n=a(96540);const i={},s=n.createContext(i);function o(e){const t=n.useContext(s);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),n.createElement(s.Provider,{value:t},e.children)}},41508:e=>{e.exports=JSON.parse('{"permalink":"/zeebe-chaos/2025/08/26/Resiliency-against-ELS-unavailability","editUrl":"https://github.com/camunda/zeebe-chaos/blob/master/chaos-days/blog/2025-08-26-Resiliency-against-ELS-unavailability/index.md","source":"@site/blog/2025-08-26-Resiliency-against-ELS-unavailability/index.md","title":"Resiliency against ELS unavailability","description":"Due to recent initiatives and architecture changes, we coupled us even more against the secondary storage (often Elasticsearch, but can also be OpenSearch or in the future RDBMS).","date":"2025-08-26T00:00:00.000Z","tags":[{"inline":true,"label":"availability","permalink":"/zeebe-chaos/tags/availability"}],"readingTime":8.795,"hasTruncateMarker":true,"authors":[{"name":"Christopher Kujawa","title":"Chaos Engineer @ Zeebe","url":"https://github.com/ChrisKujawa","page":{"permalink":"/zeebe-chaos/authors/zell"},"imageURL":"https://github.com/ChrisKujawa.png","key":"zell"}],"frontMatter":{"layout":"posts","title":"Resiliency against ELS unavailability","date":"2025-08-26T00:00:00.000Z","categories":["chaos_experiment","bpmn"],"tags":["availability"],"authors":"zell"},"unlisted":false,"prevItem":{"title":"REST API: From ForkJoin to a Dedicated Thread Pool","permalink":"/zeebe-chaos/2025/09/18/REST-API-From-ForkJoin-to-a-Dedicated-Thread-Pool"},"nextItem":{"title":"Dynamic Scaling: probing linear scalability","permalink":"/zeebe-chaos/2025/07/11/linear-dynamic-scaling"}}')}}]);