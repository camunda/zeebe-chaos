<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.6.0">
<title data-rh="true">Experiment with Timers and Huge Variables | Zeebe Chaos</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://zeebe-io.github.io/zeebe-chaos/2020/07/09/timer-and-huge-variables"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Experiment with Timers and Huge Variables | Zeebe Chaos"><meta data-rh="true" name="description" content="* Failure documentation about RAFT"><meta data-rh="true" property="og:description" content="* Failure documentation about RAFT"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2020-07-09T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/zelldon"><link data-rh="true" rel="icon" href="/zeebe-chaos/img/zeebe-logo.png"><link data-rh="true" rel="canonical" href="https://zeebe-io.github.io/zeebe-chaos/2020/07/09/timer-and-huge-variables"><link data-rh="true" rel="alternate" href="https://zeebe-io.github.io/zeebe-chaos/2020/07/09/timer-and-huge-variables" hreflang="en"><link data-rh="true" rel="alternate" href="https://zeebe-io.github.io/zeebe-chaos/2020/07/09/timer-and-huge-variables" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","@id":"https://zeebe-io.github.io/zeebe-chaos/2020/07/09/timer-and-huge-variables","mainEntityOfPage":"https://zeebe-io.github.io/zeebe-chaos/2020/07/09/timer-and-huge-variables","url":"https://zeebe-io.github.io/zeebe-chaos/2020/07/09/timer-and-huge-variables","headline":"Experiment with Timers and Huge Variables","name":"Experiment with Timers and Huge Variables","description":"* Failure documentation about RAFT","datePublished":"2020-07-09T00:00:00.000Z","author":{"@type":"Person","name":"Christopher Kujawa","description":"Chaos Engineer @ Zeebe","url":"https://github.com/zelldon","image":"https://github.com/zelldon.png"},"keywords":[],"isPartOf":{"@type":"Blog","@id":"https://zeebe-io.github.io/zeebe-chaos/","name":"Blog"}}</script><link rel="alternate" type="application/rss+xml" href="/zeebe-chaos/rss.xml" title="Zeebe Chaos RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/zeebe-chaos/atom.xml" title="Zeebe Chaos Atom Feed"><link rel="stylesheet" href="/zeebe-chaos/assets/css/styles.1a3a904b.css">
<script src="/zeebe-chaos/assets/js/runtime~main.8fa4eb0f.js" defer="defer"></script>
<script src="/zeebe-chaos/assets/js/main.dd270d5d.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/zeebe-chaos/"><div class="navbar__logo"><img src="/zeebe-chaos/img/zeebe-logo.png" alt="Zeebe" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/zeebe-chaos/img/zeebe-logo.png" alt="Zeebe" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Zeebe Chaos</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/zeebe-chaos/">Chaos Summaries</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/zeebe-io/zeebe-chaos" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">All posts</div><div role="group"><h3 class="yearGroupHeading_rMGB">2024</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2024/10/24/Camunda-Exporter-MVP">Camunda Exporter MVP</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2024/10/14/Optimizing-cluster-sizing-using-a-real-world-benchmark">Optimizing cluster sizing using a real world benchmark</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2024/08/19/Operate-improve-import-latency">Improve Operate import latency</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2024/08/16/Operate-load-handling">Operate load handling</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2024/07/25/Using-flow-control-to-handle-bottlenecked-exporting">Using flow control to handle bottleneck on exporting</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2024/07/25/Using-flow-control-to-handle-uncontrolled-process-loops">Using flow control to handle uncontrolled process loops</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2024/01/19/Job-Activation-Latency">Reducing the job activation delay</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2023</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2023/12/20/Broker-scaling-performance">Broker Scaling and Performance</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2023/12/19/Dynamic-Scaling-with-Dataloss">Dynamic Scaling with Dataloss</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2023/12/18/Dynamically-scaling-brokers">Dynamically scaling brokers</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2023/12/06/Job-Push-resiliency">Job push resiliency</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2023/11/30/Job-push-overloading">Job push overloading</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2023/11/07/Hot-backups-impact-on-processing">Hot backups impact on processing</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2023/06/02/Using-Large-Multi-Instance">Using Large Multi-Instance</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2023/05/19/Continuing-SST-Partitioning-toggle">Continuing SST Partitioning toggle</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2023/05/15/SST-Partitioning-toggle">SST Partitioning toggle</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2023/04/06/gateway-termination">Gateway Termination</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2023/02/23/Recursive-call-activity">Recursive call activity</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2022</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2022/08/31/Message-Correlation-after-Network-Partition">Message Correlation after Network Partition</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2022/08/02/deployment-distribution">Bring Deployment distribution experiment back</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2022/02/15/Standalone-Gateway-in-CCSaaS">Standalone Gateway in CCSaaS</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2022/02/01/High-Snapshot-Frequency">High Snapshot Frequency</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2022/01/19/big-variables">Handling of Big Variables</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2021</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2021/11/24/Worker-count-should-not-impact-performance">Worker count should not impact performance</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2021/11/11/Not-produce-duplicate-Keys">Not produce duplicate Keys</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2021/10/29/Throughput-on-big-state">Throughput on big state</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2021/10/05/recovery-time">Recovery (Fail Over) time</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2021/09/23/Old-Clients">Old-Clients</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2021/07/06/Slow-Network">Slow Network</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2021/06/08/Full-Disk">Full Disk Recovery</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2021/05/25/Reset-Clock">Time travel Experiment</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2021/04/29/Corrupted-Snapshot">Corrupted Snapshot Experiment Investigation</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2021/04/03/bpmn-meets-chaos-engineering">BPMN meets Chaos Engineering</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2021/03/30/set-file-immutable">Set file immutable</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2021/03/23/camunda-cloud-network-partition">Camunda Cloud network partition</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2021/03/09/cont-workflow-instance">Fault-tolerant processing of process instances</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2021/02/23/automate-deployments-dist">Automating Deployment Distribution Chaos Experiment</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2021/01/26/deployments">Deployment Distribution</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2021/01/19/network-partition">Network partitions</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2021/01/07/disconnect-leader-and-follower">Disconnect Leader and one Follower</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2020</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2020/11/24/message-correlation-after-failover">Message Correlation after Failover</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2020/11/11/job-timeouts">Many Job Timeouts</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2020/11/03/investigate-failing-tests">Investigate failing Chaos Tests</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2020/10/20/non-graceful-shutdown">Non-graceful Shutdown Broker</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2020/10/27/standalone-gw-memory">Gateway memory consumption</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2020/10/13/multiple-leader-changes">Multiple Leader Changes</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2020/10/06/toxi-proxy">Play around with ToxiProxy</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2020/08/20/experiment-with-camunda-cloud">Experiment with Camunda Cloud</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2020/08/06/low-load">Experiment with Low Load</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2020/07/30/experiment-without-exporters">Experiment without Exporters</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2020/07/16/big-multi-instance">Big Multi Instance</a></li><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/zeebe-chaos/2020/07/09/timer-and-huge-variables">Experiment with Timers and Huge Variables</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2020/07/02/extract-k8-resources">Extract K8 resources from namespace</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2020/06/25/gateway-network-partition">Gateway Network Partition</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2020/06/18/correlate-message-after-failover">Correlate Message after failover</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2020/06/11/high-cpu-gateway">High CPU load on Standalone Gateway</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2020/06/04/first-chaos-day">First Chaos Day!</a></li></ul></div></nav></aside><main class="col col--7"><article><header><h1 class="title_f1Hy">Experiment with Timers and Huge Variables</h1><div class="container_mt6G margin-vert--md"><time datetime="2020-07-09T00:00:00.000Z">July 9, 2020</time> · <!-- -->4 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a class="avatar__photo-link" href="/zeebe-chaos/authors/zell"><img class="avatar__photo authorImage_XqGP" src="https://github.com/zelldon.png" alt="Christopher Kujawa"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="/zeebe-chaos/authors/zell"><span class="authorName_yefp">Christopher Kujawa</span></a></div><small class="authorTitle_nd0D" title="Chaos Engineer @ Zeebe">Chaos Engineer @ Zeebe</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div id="__blog-post-container" class="markdown"><ul>
<li>Failure documentation about RAFT</li>
<li>Added chaos day summaries to repo</li>
<li>Run Chaos experiment with a lot of timers</li>
<li>Run Chaos experiment with huge variables</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="chaos-experiment">Chaos Experiment<a href="#chaos-experiment" class="hash-link" aria-label="Direct link to Chaos Experiment" title="Direct link to Chaos Experiment">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="a-lot-of-timers">A Lot of Timers<a href="#a-lot-of-timers" class="hash-link" aria-label="Direct link to A Lot of Timers" title="Direct link to A Lot of Timers">​</a></h3>
<p>Based on the Hypothesis written here:  <a href="https://github.com/zeebe-io/zeebe-chaos/issues/31" target="_blank" rel="noopener noreferrer">#31</a> we run an experiment with a stable load of 10 simple workflow instances per second (only start and end event) and 10 workflow instances with
multiple timers. We wanted to explore what happens when we have a lot of timers running and especially what happens when the are triggered at once. We created the following workflow model, where timers are exponentially created.</p>
<p><img decoding="async" loading="lazy" alt="timerProcess" src="data:image/png;base64,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" width="690" height="541" class="img_ev3q"></p>
<p>The experiments is based on the hypotheses we wrote here <a href="https://github.com/zeebe-io/zeebe-chaos/issues/31" target="_blank" rel="noopener noreferrer">#31</a>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="expectations">Expectations<a href="#expectations" class="hash-link" aria-label="Direct link to Expectations" title="Direct link to Expectations">​</a></h4>
<ul>
<li>at some point we can&#x27;t create new instances from out side, since backpressure will block that</li>
<li>the metrics for processing records (events/commands) should be stable since there will be always new events/records</li>
<li>the cluster itself should be stable</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="observations">Observations<a href="#observations" class="hash-link" aria-label="Direct link to Observations" title="Direct link to Observations">​</a></h4>
<p>During running the experiments we saw that indeed we were not able to create new instances at some point.
The cluster kept stable and there was no leader change at all. Unexpected was the behavior of the processing record metrics, since it fluctuates a lot.</p>
<p>Furthermore we reached really high processing records throughput, which we normally not see.</p>
<p><img decoding="async" loading="lazy" alt="overall" src="/zeebe-chaos/assets/images/overall-0bf1b5d88ff99c1c96acde2110c43f5b.png" width="1842" height="917" class="img_ev3q"></p>
<p>The log appender backpressure seem to work, at some point it deferred around 1.3 million records.</p>
<p>On resource consumption side it seems that memory is growing, but we create also more timer might be the issue.</p>
<p><img decoding="async" loading="lazy" alt="mem" src="/zeebe-chaos/assets/images/mem-f8766317213b71c59a5c41b7083e0968.png" width="1837" height="650" class="img_ev3q"></p>
<p>Interesting was that we saw a huge difference between processing and exporting.</p>
<p><img decoding="async" loading="lazy" alt="exportvsprocess" src="/zeebe-chaos/assets/images/exportvsprocess-508a331eafa9df80e4cb11c520e2e95f.png" width="1827" height="401" class="img_ev3q"></p>
<p>The issue we currently have is that we stop processing to trigger/evaluate due timers and write them to the log.
After we did that we will process a bunch of events again and then trigger/evaluate again. I think this should be decoupled to streamline the processing throughput. I created a new issue for that <a href="https://github.com/zeebe-io/zeebe/issues/4931" target="_blank" rel="noopener noreferrer">#4931</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="huge-variables">Huge Variables<a href="#huge-variables" class="hash-link" aria-label="Direct link to Huge Variables" title="Direct link to Huge Variables">​</a></h3>
<p>In order to understand better what is the impact of huge variables I did a small experiment with a payload which was ~ 5 MB.</p>
<p>I expected that this will not work, since this is larger then the maximum message size. I would expect an appropriate error message, but unfortunately I just got a cancel on the client side.</p>
<p>Starter Exception:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">2020-07-09T12:27:20.945889183Z 12:27:20.945 [Thread-2] WARN  io.zeebe.ResponseChecker - Request failed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> I </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-07-09T12:27:20.945909759Z java.util.concurrent.ExecutionException: io.grpc.StatusRuntimeException: CANCELLED: HTTP/2 error code: CANCEL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> I </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-07-09T12:27:20.945924206Z Received Rst Stream</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> I </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-07-09T12:27:20.945929123Z 	at java.util.concurrent.CompletableFuture.reportGet(Unknown Source) ~[?:?]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> I </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-07-09T12:27:20.945934351Z 	at java.util.concurrent.CompletableFuture.get(Unknown Source) ~[?:?]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> I </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-07-09T12:27:20.945939157Z 	at io.zeebe.ResponseChecker.run(ResponseChecker.java:41) [app.jar:0.23.3]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> I </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-07-09T12:27:20.945972595Z Caused by: io.grpc.StatusRuntimeException: CANCELLED: HTTP/2 error code: CANCEL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> I </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-07-09T12:27:20.945978663Z Received Rst Stream</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> I </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-07-09T12:27:20.945983657Z 	at io.grpc.Status.asRuntimeException(Status.java:533) ~[app.jar:0.23.3]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> I </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-07-09T12:27:20.945988515Z 	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:449) ~[app.jar:0.23.3]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> I </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-07-09T12:27:20.945993803Z 	at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39) ~[app.jar:0.23.3]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> I </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-07-09T12:27:20.945998591Z 	at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23) ~[app.jar:0.23.3]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> I </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-07-09T12:27:20.946003749Z 	at me.dinowernli.grpc.prometheus.MonitoringClientCallListener.onClose(MonitoringClientCallListener.java:50) ~[app.jar:0.23.3]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> I </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-07-09T12:27:20.946007316Z 	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:426) ~[app.jar:0.23.3]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> I </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-07-09T12:27:20.946010626Z 	at io.grpc.internal.ClientCallImpl.access$500(ClientCallImpl.java:66) ~[app.jar:0.23.3]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> I </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-07-09T12:27:20.946013822Z 	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.close(ClientCallImpl.java:689) ~[app.jar:0.23.3]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> I </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-07-09T12:27:20.946017026Z 	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.access$900(ClientCallImpl.java:577) ~[app.jar:0.23.3]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> I </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-07-09T12:27:20.946020414Z 	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:751) ~[app.jar:0.23.3]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> I </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-07-09T12:27:20.946025498Z 	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:740) ~[app.jar:0.23.3]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> I </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-07-09T12:27:20.946030508Z 	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[app.jar:0.23.3]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> I </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-07-09T12:27:20.946035265Z 	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123) ~[app.jar:0.23.3]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> I </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-07-09T12:27:20.946040Z 	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) ~[?:?]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> I </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-07-09T12:27:20.946045833Z 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) ~[?:?]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> I </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-07-09T12:27:20.946050880Z 	at java.lang.Thread.run(Unknown Source) ~[?:?]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> I </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Interesting is what happens on the Gateway:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">2020-07-09 14:27:33.929 CEST</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Stream Error</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Expand all | Collapse all{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> insertId: &quot;yoxfczvg9usifqd7d&quot;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> jsonPayload: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  context: {…}   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  exception: &quot;io.netty.handler.codec.http2.Http2Exception$StreamException: Received DATA frame for an unknown stream 10277</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at io.netty.handler.codec.http2.Http2Exception.streamError(Http2Exception.java:147) ~[netty-codec-http2-4.1.50.Final.jar:4.1.50.Final]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at io.netty.handler.codec.http2.DefaultHttp2ConnectionDecoder$FrameReadListener.shouldIgnoreHeadersOrDataFrame(DefaultHttp2ConnectionDecoder.java:596) ~[netty-codec-http2-4.1.50.Final.jar:4.1.50.Final]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at io.netty.handler.codec.http2.DefaultHttp2ConnectionDecoder$FrameReadListener.onDataRead(DefaultHttp2ConnectionDecoder.java:239) ~[netty-codec-http2-4.1.50.Final.jar:4.1.50.Final]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at io.netty.handler.codec.http2.Http2InboundFrameLogger$1.onDataRead(Http2InboundFrameLogger.java:48) ~[netty-codec-http2-4.1.50.Final.jar:4.1.50.Final]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at io.netty.handler.codec.http2.DefaultHttp2FrameReader.readDataFrame(DefaultHttp2FrameReader.java:422) ~[netty-codec-http2-4.1.50.Final.jar:4.1.50.Final]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at io.netty.handler.codec.http2.DefaultHttp2FrameReader.processPayloadState(DefaultHttp2FrameReader.java:251) ~[netty-codec-http2-4.1.50.Final.jar:4.1.50.Final]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at io.netty.handler.codec.http2.DefaultHttp2FrameReader.readFrame(DefaultHttp2FrameReader.java:160) ~[netty-codec-http2-4.1.50.Final.jar:4.1.50.Final]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at io.netty.handler.codec.http2.Http2InboundFrameLogger.readFrame(Http2InboundFrameLogger.java:41) ~[netty-codec-http2-4.1.50.Final.jar:4.1.50.Final]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at io.netty.handler.codec.http2.DefaultHttp2ConnectionDecoder.decodeFrame(DefaultHttp2ConnectionDecoder.java:174) ~[netty-codec-http2-4.1.50.Final.jar:4.1.50.Final]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at io.netty.handler.codec.http2.Http2ConnectionHandler$FrameDecoder.decode(Http2ConnectionHandler.java:378) [netty-codec-http2-4.1.50.Final.jar:4.1.50.Final]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at io.netty.handler.codec.http2.Http2ConnectionHandler.decode(Http2ConnectionHandler.java:438) [netty-codec-http2-4.1.50.Final.jar:4.1.50.Final]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:501) [netty-codec-4.1.50.Final.jar:4.1.50.Final]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:440) [netty-codec-4.1.50.Final.jar:4.1.50.Final]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276) [netty-codec-4.1.50.Final.jar:4.1.50.Final]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) [netty-transport-4.1.50.Final.jar:4.1.50.Final]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) [netty-transport-4.1.50.Final.jar:4.1.50.Final]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) [netty-transport-4.1.50.Final.jar:4.1.50.Final]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) [netty-transport-4.1.50.Final.jar:4.1.50.Final]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) [netty-transport-4.1.50.Final.jar:4.1.50.Final]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) [netty-transport-4.1.50.Final.jar:4.1.50.Final]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) [netty-transport-4.1.50.Final.jar:4.1.50.Final]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:792) [netty-transport-native-epoll-4.1.50.Final-linux-x86_64.jar:4.1.50.Final]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe$1.run(AbstractEpollChannel.java:387) [netty-transport-native-epoll-4.1.50.Final-linux-x86_64.jar:4.1.50.Final]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164) [netty-common-4.1.50.Final.jar:4.1.50.Final]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) [netty-common-4.1.50.Final.jar:4.1.50.Final]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:384) [netty-transport-native-epoll-4.1.50.Final-linux-x86_64.jar:4.1.50.Final]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989) [netty-common-4.1.50.Final.jar:4.1.50.Final]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) [netty-common-4.1.50.Final.jar:4.1.50.Final]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) [netty-common-4.1.50.Final.jar:4.1.50.Final]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at java.lang.Thread.run(Unknown Source) [?:?]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  logger: &quot;io.grpc.netty.NettyServerHandler&quot;   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  message: &quot;Stream Error&quot;   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  serviceContext: {…}   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  thread: &quot;grpc-default-worker-ELG-1-1&quot;   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Created an issue for this: <a href="https://github.com/zeebe-io/zeebe/issues/4928" target="_blank" rel="noopener noreferrer">#4928</a></p>
<p>I will probably continue with this next week.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="participants">Participants<a href="#participants" class="hash-link" aria-label="Direct link to Participants" title="Direct link to Participants">​</a></h2>
<ul>
<li>@zelldon</li>
</ul></div><footer class="docusaurus-mt-lg"><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><a href="https://github.com/zeebe-io/zeebe-chaos/blob/master/chaos-days/blog/2020-07-09-timer-and-huge-variables/index.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/zeebe-chaos/2020/07/16/big-multi-instance"><div class="pagination-nav__sublabel">Newer post</div><div class="pagination-nav__label">Big Multi Instance</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/zeebe-chaos/2020/07/02/extract-k8-resources"><div class="pagination-nav__sublabel">Older post</div><div class="pagination-nav__label">Extract K8 resources from namespace</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#chaos-experiment" class="table-of-contents__link toc-highlight">Chaos Experiment</a><ul><li><a href="#a-lot-of-timers" class="table-of-contents__link toc-highlight">A Lot of Timers</a></li><li><a href="#huge-variables" class="table-of-contents__link toc-highlight">Huge Variables</a></li></ul></li><li><a href="#participants" class="table-of-contents__link toc-highlight">Participants</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/zeebe" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://forum.camunda.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/Camunda" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/zeebe-io/zeebe-chaos/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Zeebe Chaos. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>