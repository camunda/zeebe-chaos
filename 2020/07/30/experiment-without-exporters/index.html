<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.6.3">
<title data-rh="true">Experiment without Exporters | Zeebe Chaos</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://zeebe-io.github.io/zeebe-chaos/2020/07/30/experiment-without-exporters"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Experiment without Exporters | Zeebe Chaos"><meta data-rh="true" name="description" content="* Run a chaos experiment without exporters"><meta data-rh="true" property="og:description" content="* Run a chaos experiment without exporters"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2020-07-30T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/ChrisKujawa"><link data-rh="true" rel="icon" href="/zeebe-chaos/img/zeebe-logo.png"><link data-rh="true" rel="canonical" href="https://zeebe-io.github.io/zeebe-chaos/2020/07/30/experiment-without-exporters"><link data-rh="true" rel="alternate" href="https://zeebe-io.github.io/zeebe-chaos/2020/07/30/experiment-without-exporters" hreflang="en"><link data-rh="true" rel="alternate" href="https://zeebe-io.github.io/zeebe-chaos/2020/07/30/experiment-without-exporters" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","@id":"https://zeebe-io.github.io/zeebe-chaos/2020/07/30/experiment-without-exporters","mainEntityOfPage":"https://zeebe-io.github.io/zeebe-chaos/2020/07/30/experiment-without-exporters","url":"https://zeebe-io.github.io/zeebe-chaos/2020/07/30/experiment-without-exporters","headline":"Experiment without Exporters","name":"Experiment without Exporters","description":"* Run a chaos experiment without exporters","datePublished":"2020-07-30T00:00:00.000Z","author":{"@type":"Person","name":"Christopher Kujawa","description":"Chaos Engineer @ Zeebe","url":"https://github.com/ChrisKujawa","image":"https://github.com/ChrisKujawa.png"},"keywords":[],"isPartOf":{"@type":"Blog","@id":"https://zeebe-io.github.io/zeebe-chaos/","name":"Blog"}}</script><link rel="alternate" type="application/rss+xml" href="/zeebe-chaos/rss.xml" title="Zeebe Chaos RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/zeebe-chaos/atom.xml" title="Zeebe Chaos Atom Feed"><link rel="stylesheet" href="/zeebe-chaos/assets/css/styles.09e3c82e.css">
<script src="/zeebe-chaos/assets/js/runtime~main.c8c7ac81.js" defer="defer"></script>
<script src="/zeebe-chaos/assets/js/main.9aca7aa3.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/zeebe-chaos/"><div class="navbar__logo"><img src="/zeebe-chaos/img/zeebe-logo.png" alt="Zeebe" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/zeebe-chaos/img/zeebe-logo.png" alt="Zeebe" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Zeebe Chaos</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/zeebe-chaos/">Chaos Summaries</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/zeebe-io/zeebe-chaos" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">All posts</div><div role="group"><h3 class="yearGroupHeading_rMGB">2024</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2024/12/12/News-from-Camunda-Exporter-project">News from Camunda Exporter project</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2024/11/14/Impact-of-Camunda-Exporter-on-processing-performance">Impact of Camunda Exporter on processing performance</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2024/10/24/Camunda-Exporter-MVP">Camunda Exporter MVP</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2024/10/14/Optimizing-cluster-sizing-using-a-real-world-benchmark">Optimizing cluster sizing using a real world benchmark</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2024/08/19/Operate-improve-import-latency">Improve Operate import latency</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2024/08/16/Operate-load-handling">Operate load handling</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2024/07/25/Using-flow-control-to-handle-bottlenecked-exporting">Using flow control to handle bottleneck on exporting</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2024/07/25/Using-flow-control-to-handle-uncontrolled-process-loops">Using flow control to handle uncontrolled process loops</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2024/01/19/Job-Activation-Latency">Reducing the job activation delay</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2023</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2023/12/20/Broker-scaling-performance">Broker Scaling and Performance</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2023/12/19/Dynamic-Scaling-with-Dataloss">Dynamic Scaling with Dataloss</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2023/12/18/Dynamically-scaling-brokers">Dynamically scaling brokers</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2023/12/06/Job-Push-resiliency">Job push resiliency</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2023/11/30/Job-push-overloading">Job push overloading</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2023/11/07/Hot-backups-impact-on-processing">Hot backups impact on processing</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2023/06/02/Using-Large-Multi-Instance">Using Large Multi-Instance</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2023/05/19/Continuing-SST-Partitioning-toggle">Continuing SST Partitioning toggle</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2023/05/15/SST-Partitioning-toggle">SST Partitioning toggle</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2023/04/06/gateway-termination">Gateway Termination</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2023/02/23/Recursive-call-activity">Recursive call activity</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2022</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2022/08/31/Message-Correlation-after-Network-Partition">Message Correlation after Network Partition</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2022/08/02/deployment-distribution">Bring Deployment distribution experiment back</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2022/02/15/Standalone-Gateway-in-CCSaaS">Standalone Gateway in CCSaaS</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2022/02/01/High-Snapshot-Frequency">High Snapshot Frequency</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2022/01/19/big-variables">Handling of Big Variables</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2021</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2021/11/24/Worker-count-should-not-impact-performance">Worker count should not impact performance</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2021/11/11/Not-produce-duplicate-Keys">Not produce duplicate Keys</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2021/10/29/Throughput-on-big-state">Throughput on big state</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2021/10/05/recovery-time">Recovery (Fail Over) time</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2021/09/23/Old-Clients">Old-Clients</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2021/07/06/Slow-Network">Slow Network</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2021/06/08/Full-Disk">Full Disk Recovery</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2021/05/25/Reset-Clock">Time travel Experiment</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2021/04/29/Corrupted-Snapshot">Corrupted Snapshot Experiment Investigation</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2021/04/03/bpmn-meets-chaos-engineering">BPMN meets Chaos Engineering</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2021/03/30/set-file-immutable">Set file immutable</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2021/03/23/camunda-cloud-network-partition">Camunda Cloud network partition</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2021/03/09/cont-workflow-instance">Fault-tolerant processing of process instances</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2021/02/23/automate-deployments-dist">Automating Deployment Distribution Chaos Experiment</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2021/01/26/deployments">Deployment Distribution</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2021/01/19/network-partition">Network partitions</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2021/01/07/disconnect-leader-and-follower">Disconnect Leader and one Follower</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2020</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2020/11/24/message-correlation-after-failover">Message Correlation after Failover</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2020/11/11/job-timeouts">Many Job Timeouts</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2020/11/03/investigate-failing-tests">Investigate failing Chaos Tests</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2020/10/20/non-graceful-shutdown">Non-graceful Shutdown Broker</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2020/10/27/standalone-gw-memory">Gateway memory consumption</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2020/10/13/multiple-leader-changes">Multiple Leader Changes</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2020/10/06/toxi-proxy">Play around with ToxiProxy</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2020/08/20/experiment-with-camunda-cloud">Experiment with Camunda Cloud</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2020/08/06/low-load">Experiment with Low Load</a></li><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/zeebe-chaos/2020/07/30/experiment-without-exporters">Experiment without Exporters</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2020/07/16/big-multi-instance">Big Multi Instance</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2020/07/09/timer-and-huge-variables">Experiment with Timers and Huge Variables</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2020/07/02/extract-k8-resources">Extract K8 resources from namespace</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2020/06/25/gateway-network-partition">Gateway Network Partition</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2020/06/18/correlate-message-after-failover">Correlate Message after failover</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2020/06/11/high-cpu-gateway">High CPU load on Standalone Gateway</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zeebe-chaos/2020/06/04/first-chaos-day">First Chaos Day!</a></li></ul></div></nav></aside><main class="col col--7"><article><header><h1 class="title_f1Hy">Experiment without Exporters</h1><div class="container_mt6G margin-vert--md"><time datetime="2020-07-30T00:00:00.000Z">July 30, 2020</time> · <!-- -->6 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a class="avatar__photo-link" href="/zeebe-chaos/authors/zell"><img class="avatar__photo authorImage_XqGP" src="https://github.com/ChrisKujawa.png" alt="Christopher Kujawa"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="/zeebe-chaos/authors/zell"><span class="authorName_yefp">Christopher Kujawa</span></a></div><small class="authorTitle_nd0D" title="Chaos Engineer @ Zeebe">Chaos Engineer @ Zeebe</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div id="__blog-post-container" class="markdown"><ul>
<li>Run a chaos experiment without exporters</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="chaos-experiment">Chaos Experiment<a href="#chaos-experiment" class="hash-link" aria-label="Direct link to Chaos Experiment" title="Direct link to Chaos Experiment">​</a></h2>
<p>We wanted to run a chaos experiment, which covers <a href="https://github.com/zeebe-io/zeebe-chaos/issues/20" target="_blank" rel="noopener noreferrer">#20</a>.
Furthermore, it was recently asked in the forum whether it makes a difference performance wise to run a broker without exporters, see <a href="https://forum.zeebe.io/t/zeebe-low-performance/1356/17" target="_blank" rel="noopener noreferrer">here</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="expected">Expected<a href="#expected" class="hash-link" aria-label="Direct link to Expected" title="Direct link to Expected">​</a></h3>
<p>Running Broker without exporter should work without any problems. We should be able to delete data on every snapshot interval.
Performance wise there should be no difference.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="actual">Actual<a href="#actual" class="hash-link" aria-label="Direct link to Actual" title="Direct link to Actual">​</a></h3>
<p>We have setup three different benchmarks:</p>
<ul>
<li>default with elastic and metrics exporter enabled</li>
<li>only with metrics exporter</li>
<li>without any exporter</li>
</ul>
<p>These benchmarks run overnight without bigger issues. This means all of three where able to take snapshots and compact the log. This satisfy our hypothesis of <a href="https://github.com/zeebe-io/zeebe-chaos/issues/20" target="_blank" rel="noopener noreferrer">https://github.com/zeebe-io/zeebe-chaos/issues/20</a> .</p>
<table><thead><tr><th>Default</th><th>Without exporters</th></tr></thead><tbody><tr><td><img decoding="async" loading="lazy" alt="default-pvc" src="/zeebe-chaos/assets/images/default-pvc-469e3d330b70e812076b1a698fca2536.png" width="1839" height="570" class="img_ev3q"></td><td><img decoding="async" loading="lazy" alt="without-exporter-pvc" src="/zeebe-chaos/assets/images/without-exporter-pvc-a0f2ffb742d96daa354f10954cf113ba.png" width="1837" height="570" class="img_ev3q"></td></tr></tbody></table>
<p>The resource consumption seem to be kind of similar, but we still see that the memory usage increases overtime. This seems to be related to <a href="https://github.com/zeebe-io/zeebe/issues/4812" target="_blank" rel="noopener noreferrer">#4812</a></p>
<table><thead><tr><th>Default</th><th>Metric Exporter</th><th>Without exporters</th></tr></thead><tbody><tr><td><img decoding="async" loading="lazy" alt="default" src="/zeebe-chaos/assets/images/default-resources-a917df422fb30b6089b249ec5f2578c1.png" width="1829" height="645" class="img_ev3q"></td><td><img decoding="async" loading="lazy" alt="metric" src="/zeebe-chaos/assets/images/metric-exporter-resources-d8b4e6c86bb038799ffc8ab101633be1.png" width="1826" height="638" class="img_ev3q"></td><td><img decoding="async" loading="lazy" alt="without" src="/zeebe-chaos/assets/images/without-exporter-resources-147a33a8d947f84836877a0e0b04149a.png" width="1828" height="639" class="img_ev3q"></td></tr></tbody></table>
<p>Unexpected was that we see a difference in throughput. The benchmark without exporters seem to have a better throughput overall. It is able to complete ~ 30 workflow instances more per second, then the other benchmarks.</p>
<table><thead><tr><th>Default</th><th>Metric Exporter</th><th>Without exporters</th></tr></thead><tbody><tr><td><img decoding="async" loading="lazy" alt="default" src="/zeebe-chaos/assets/images/default-general-4ec70f62414cc8ac4f8f553053f2eccf.png" width="1848" height="915" class="img_ev3q"></td><td><img decoding="async" loading="lazy" alt="metric" src="/zeebe-chaos/assets/images/metric-exporter-general-6355043145eca161da102ca2fb6b6991.png" width="1847" height="924" class="img_ev3q"></td><td><img decoding="async" loading="lazy" alt="without" src="/zeebe-chaos/assets/images/without-exporter-general-9ef196f675dfde45fd87c9b728da719f.png" width="1850" height="908" class="img_ev3q"></td></tr></tbody></table>
<p>We compared also other benchmarks which we have currently running, e.g. a snapshot from 24-07-2020 or from the 0.24.1 release.</p>
<table><thead><tr><th>Snapshot 24-07</th><th>Release 0.24.1</th></tr></thead><tbody><tr><td><img decoding="async" loading="lazy" alt="snapshot" src="/zeebe-chaos/assets/images/snapshot-24-7-general-96cf8d8a9a28fd3ea52c3ef883b666d2.png" width="1845" height="916" class="img_ev3q"></td><td><img decoding="async" loading="lazy" alt="release-241" src="/zeebe-chaos/assets/images/release-0241-general-e0ec563cac1ee40807464ef0520833ea.png" width="1845" height="916" class="img_ev3q"></td></tr></tbody></table>
<p>All benchmarks with exporters seem to have a throughput around ~140 workflow instance completions per second, but the benchmarks without exporters reaches ~170 workflow instance completions per second.
When we check the metrics we can see that sometimes brokers are leader for all partition and sometimes it is good distributed, but even this makes not that huge difference as the fact to having no exporter.
This is unexpected and we need to investigate further, created new issue for this <a href="https://github.com/zeebe-io/zeebe/issues/5085" target="_blank" rel="noopener noreferrer">#5085</a></p>
<p>The latency seems to be not affected by this.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="general-observations">General Observations<a href="#general-observations" class="hash-link" aria-label="Direct link to General Observations" title="Direct link to General Observations">​</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="rocksdb">RocksDB<a href="#rocksdb" class="hash-link" aria-label="Direct link to RocksDB" title="Direct link to RocksDB">​</a></h5>
<p>After taking a look at the metrics of the different benchmarks we can see that at one benchmark we have a higher live data size, which is unexepected.</p>
<p><img decoding="async" loading="lazy" alt="without-exporter-rocksdb" src="/zeebe-chaos/assets/images/without-exporter-rocksdb-eda01ef46c63c7224081729ba13606b5.png" width="1844" height="719" class="img_ev3q">
<img decoding="async" loading="lazy" alt="default-rocksdb" src="/zeebe-chaos/assets/images/default-rocksdb-6affdc45a3b5336205e162491a99d5e4.png" width="1834" height="713" class="img_ev3q">
<img decoding="async" loading="lazy" alt="metric-exporter-rocksdb" src="/zeebe-chaos/assets/images/default-rocksdb-6affdc45a3b5336205e162491a99d5e4.png" width="1834" height="713" class="img_ev3q"></p>
<p>Created an issue for it <a href="https://github.com/zeebe-io/zeebe/issues/5081" target="_blank" rel="noopener noreferrer">#5081</a></p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="atomix-bootstrap">Atomix Bootstrap<a href="#atomix-bootstrap" class="hash-link" aria-label="Direct link to Atomix Bootstrap" title="Direct link to Atomix Bootstrap">​</a></h5>
<p>On taking a look at the logs during starting the benchmarks we can see that the logging of atomix is not really useful.</p>
<p>It prints several statements which seem to be just noisy.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">I 2020-07-30T10:17:54.198527Z TCP server listening for connections on 0.0.0.0:26502 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">I 2020-07-30T10:17:54.199468Z Started </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">I 2020-07-30T10:17:54.223547Z UDP server listening for connections on 0.0.0.0:26502 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">I 2020-07-30T10:17:54.224941Z Joined </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">I 2020-07-30T10:17:54.228644Z Started </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">I 2020-07-30T10:17:54.229384Z Started </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">I 2020-07-30T10:17:54.229856Z Started </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">I 2020-07-30T10:17:54.231121Z Started </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Created an issue for it <a href="https://github.com/zeebe-io/zeebe/issues/5080" target="_blank" rel="noopener noreferrer">#5080</a></p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="merged-log-statement">Merged log statement<a href="#merged-log-statement" class="hash-link" aria-label="Direct link to Merged log statement" title="Direct link to Merged log statement">​</a></h5>
<p>Another issue we can see during startup is that from time the log statements are merged together in stackdriver.</p>
<p>Looks like this:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">I 2020-07-30T09:16:47.053339Z Bootstrap Broker-1 partitions succeeded. Started 3 steps in 166 ms. </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">I 2020-07-30T09:16:47.053352763Z {&quot;severity&quot;:&quot;DEBUG&quot;,&quot;logging.googleapis.com/sourceLocation&quot;:{&quot;function&quot;:&quot;startStepByStep&quot;,&quot;file&quot;:&quot;StartProcess.java&quot;,&quot;line&quot;:63},&quot;message&quot;:&quot;Bootstrap Broker-1 partitions [3/3]: partition 1 started in 7 ms&quot;,&quot;serviceContext&quot;:{&quot;service&quot;:&quot;zeebe-broker&quot;,&quot;version&quot;:&quot;zeebe-chaos-metric-exporter&quot;},&quot;context&quot;:{&quot;threadId&quot;:1,&quot;broker-id&quot;:&quot;Broker-1&quot;,&quot;threadPriority&quot;:5,&quot;loggerName&quot;:&quot;io.zeebe.broker.system&quot;,&quot;threadName&quot;:&quot;main&quot;},&quot;timestampSeconds&quot;:1596100607,&quot;timestampNanos&quot;:52869000,&quot;logger&quot;:&quot;io.zeebe.broker.system&quot;,&quot;thread&quot;:&quot;main&quot;}{&quot;severity&quot;:&quot;DEBUG&quot;,&quot;logging.googleapis.com/sourceLocation&quot;:{&quot;function&quot;:&quot;calculateHealth&quot;,&quot;file&quot;:&quot;CriticalComponentsHealthMonitor.java&quot;,&quot;line&quot;:91},&quot;message&quot;:&quot;The components are healthy. The current health status of components: {ZeebePartition-1=HEALTHY}&quot;,&quot;serviceContext&quot;:{&quot;service&quot;:&quot;zeebe-broker&quot;,&quot;version&quot;:&quot;zeebe-chaos-metric-exporter&quot;},&quot;context&quot;:{&quot;threadId&quot;:263,&quot;threadPriority&quot;:5,&quot;loggerName&quot;:&quot;io.zeebe.broker.system&quot;,&quot;threadName&quot;:&quot;Broker-1-zb-actors-3&quot;,&quot;actor-name&quot;:&quot;Broker-1-ZeebePartition-1&quot;},&quot;timestampSeconds&quot;:1596100607,&quot;timestampNanos&quot;:52860000,&quot;logger&quot;:&quot;io.zeebe.broker.system&quot;,&quot;thread&quot;:&quot;Broker-1-zb-actors-3&quot;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">I 2020-07-30T09:16:47.053379451Z </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Created an issue for it <a href="https://github.com/zeebe-io/zeebe/issues/5079" target="_blank" rel="noopener noreferrer">#5079</a></p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="wrong-exporter-configuration">Wrong Exporter Configuration<a href="#wrong-exporter-configuration" class="hash-link" aria-label="Direct link to Wrong Exporter Configuration" title="Direct link to Wrong Exporter Configuration">​</a></h5>
<p>When Exporter is configured falsely it breaks the start up, which means the exporter can&#x27;t be loaded and we see an exception.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> insertId: &quot;1mp0o7821rhxwebj4&quot;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> jsonPayload: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  context: {…}   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  exception: &quot;java.lang.IllegalStateException: Failed to load exporter with configuration: ExporterCfg{, jarPath=&#x27;null&#x27;, className=&#x27;&#x27;, args={index={ignoreVariablesAbove=32767}, url=http://elasticsearch-master:9200}}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at io.zeebe.broker.system.partitions.ZeebePartition.&lt;init&gt;(ZeebePartition.java:145) ~[zeebe-broker-0.25.0-SNAPSHOT.jar:0.25.0-SNAPSHOT]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at io.zeebe.broker.Broker.lambda$partitionsStep$22(Broker.java:344) ~[zeebe-broker-0.25.0-SNAPSHOT.jar:0.25.0-SNAPSHOT]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at io.zeebe.broker.bootstrap.StartProcess.lambda$startStepByStep$2(StartProcess.java:60) ~[zeebe-broker-0.25.0-SNAPSHOT.jar:0.25.0-SNAPSHOT]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at io.zeebe.broker.bootstrap.StartProcess.takeDuration(StartProcess.java:88) ~[zeebe-broker-0.25.0-SNAPSHOT.jar:0.25.0-SNAPSHOT]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at io.zeebe.broker.bootstrap.StartProcess.startStepByStep(StartProcess.java:58) ~[zeebe-broker-0.25.0-SNAPSHOT.jar:0.25.0-SNAPSHOT]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at io.zeebe.broker.bootstrap.StartProcess.takeDuration(StartProcess.java:88) ~[zeebe-broker-0.25.0-SNAPSHOT.jar:0.25.0-SNAPSHOT]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at io.zeebe.broker.bootstrap.StartProcess.start(StartProcess.java:43) ~[zeebe-broker-0.25.0-SNAPSHOT.jar:0.25.0-SNAPSHOT]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at io.zeebe.broker.Broker.partitionsStep(Broker.java:352) ~[zeebe-broker-0.25.0-SNAPSHOT.jar:0.25.0-SNAPSHOT]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at io.zeebe.broker.Broker.lambda$initStart$10(Broker.java:184) ~[zeebe-broker-0.25.0-SNAPSHOT.jar:0.25.0-SNAPSHOT]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at io.zeebe.broker.bootstrap.StartProcess.lambda$startStepByStep$2(StartProcess.java:60) ~[zeebe-broker-0.25.0-SNAPSHOT.jar:0.25.0-SNAPSHOT]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at io.zeebe.broker.bootstrap.StartProcess.takeDuration(StartProcess.java:88) ~[zeebe-broker-0.25.0-SNAPSHOT.jar:0.25.0-SNAPSHOT]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at io.zeebe.broker.bootstrap.StartProcess.startStepByStep(StartProcess.java:58) ~[zeebe-broker-0.25.0-SNAPSHOT.jar:0.25.0-SNAPSHOT]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at io.zeebe.broker.bootstrap.StartProcess.takeDuration(StartProcess.java:88) ~[zeebe-broker-0.25.0-SNAPSHOT.jar:0.25.0-SNAPSHOT]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at io.zeebe.broker.bootstrap.StartProcess.start(StartProcess.java:43) ~[zeebe-broker-0.25.0-SNAPSHOT.jar:0.25.0-SNAPSHOT]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at io.zeebe.broker.Broker.internalStart(Broker.java:135) ~[zeebe-broker-0.25.0-SNAPSHOT.jar:0.25.0-SNAPSHOT]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at io.zeebe.util.LogUtil.doWithMDC(LogUtil.java:21) [zeebe-util-0.25.0-SNAPSHOT.jar:0.25.0-SNAPSHOT]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at io.zeebe.broker.Broker.start(Broker.java:115) [zeebe-broker-0.25.0-SNAPSHOT.jar:0.25.0-SNAPSHOT]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at io.zeebe.broker.StandaloneBroker.run(StandaloneBroker.java:65) [zeebe-distribution-0.25.0-SNAPSHOT.jar:0.25.0-SNAPSHOT]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:795) [spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:779) [spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at org.springframework.boot.SpringApplication.run(SpringApplication.java:322) [spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237) [spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at io.zeebe.broker.StandaloneBroker.main(StandaloneBroker.java:52) [zeebe-distribution-0.25.0-SNAPSHOT.jar:0.25.0-SNAPSHOT]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Caused by: io.zeebe.broker.exporter.repo.ExporterLoadException: Cannot load exporter [elasticsearch]: cannot load specified class</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at io.zeebe.broker.exporter.repo.ExporterRepository.load(ExporterRepository.java:81) ~[zeebe-broker-0.25.0-SNAPSHOT.jar:0.25.0-SNAPSHOT]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at io.zeebe.broker.system.partitions.ZeebePartition.&lt;init&gt;(ZeebePartition.java:143) ~[zeebe-broker-0.25.0-SNAPSHOT.jar:0.25.0-SNAPSHOT]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	... 23 more</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Caused by: java.lang.ClassNotFoundException: </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at jdk.internal.loader.BuiltinClassLoader.loadClass(Unknown Source) ~[?:?]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(Unknown Source) ~[?:?]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at java.lang.ClassLoader.loadClass(Unknown Source) ~[?:?]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at io.zeebe.broker.exporter.repo.ExporterRepository.load(ExporterRepository.java:78) ~[zeebe-broker-0.25.0-SNAPSHOT.jar:0.25.0-SNAPSHOT]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	at io.zeebe.broker.system.partitions.ZeebePartition.&lt;init&gt;(ZeebePartition.java:143) ~[zeebe-broker-0.25.0-SNAPSHOT.jar:0.25.0-SNAPSHOT]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	... 23 more</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  logger: &quot;io.zeebe.broker.system&quot;   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  message: &quot;Bootstrap Broker-1 [11/12]: zeebe partitions failed with unexpected exception.&quot;   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  serviceContext: {…}   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  thread: &quot;main&quot;   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> labels: {…}  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> logName: &quot;projects/zeebe-io/logs/stdout&quot;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> receiveTimestamp: &quot;2020-07-30T04:58:07.561999605Z&quot;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> resource: {…}  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> severity: &quot;INFO&quot;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> sourceLocation: {…}  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> timestamp: &quot;2020-07-30T04:58:04.221614Z&quot;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The Broker is shutdown afterwards.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">I 2020-07-30T05:02:58.275180Z Bootstrap Broker-1 partitions [1/3]: partition 3 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">I 2020-07-30T05:02:58.288302Z Bootstrap Broker-1 partitions [1/3]: partition 3 failed with unexpected exception. </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">I 2020-07-30T05:02:58.289941Z Closing Broker-1 partitions succeeded. Closed 0 steps in 0 ms. </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">I 2020-07-30T05:02:58.290305Z Bootstrap Broker-1 [11/12]: zeebe partitions failed with unexpected exception. </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">I 2020-07-30T05:02:58.291341Z Closing Broker-1 [1/10]: leader management request handler </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">D 2020-07-30T05:02:58.293136Z Closing Broker-1 [1/10]: leader management request handler closed in 2 ms </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">I 2020-07-30T05:02:58.293512Z Closing Broker-1 [2/10]: disk space monitor </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">D 2020-07-30T05:02:58.294140Z Closing Broker-1 [2/10]: disk space monitor closed in 1 ms </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">I 2020-07-30T05:02:58.294509Z Closing Broker-1 [3/10]: monitoring services </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">D 2020-07-30T05:02:58.295059Z Closing Broker-1 [3/10]: monitoring services closed in 1 ms </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">I 2020-07-30T05:02:58.295371Z Closing Broker-1 [4/10]: topology manager </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">D 2020-07-30T05:02:58.295964Z Closing Broker-1 [4/10]: topology manager closed in 0 ms </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">I 2020-07-30T05:02:58.296264Z Closing Broker-1 [5/10]: cluster services </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">D 2020-07-30T05:02:58.296612Z Closing Broker-1 [5/10]: cluster services closed in 0 ms </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">I 2020-07-30T05:02:58.296928Z Closing Broker-1 [6/10]: subscription api </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">D 2020-07-30T05:02:58.297450Z Closing Broker-1 [6/10]: subscription api closed in 0 ms </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">I 2020-07-30T05:02:58.297763Z Closing Broker-1 [7/10]: command api handler </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">D 2020-07-30T05:02:58.298951Z Closing Broker-1 [7/10]: command api handler closed in 0 ms </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">I 2020-07-30T05:02:58.299366Z Closing Broker-1 [8/10]: command api transport </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">I 2020-07-30T05:03:00.320886Z Stopped </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">D 2020-07-30T05:03:00.321691Z Closing Broker-1 [8/10]: command api transport closed in 2022 ms </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">I 2020-07-30T05:03:00.322220Z Closing Broker-1 [9/10]: membership and replication protocol </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">I 2020-07-30T05:03:00.323776Z RaftServer{raft-partition-partition-3} - Transitioning to INACTIVE </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">I 2020-07-30T05:03:00.324179Z RaftServer{raft-partition-partition-2} - Transitioning to INACTIVE </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">I 2020-07-30T05:03:00.324205Z RaftServer{raft-partition-partition-1} - Transitioning to INACTIVE </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">I 2020-07-30T05:03:00.343039Z Stopped </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">I 2020-07-30T05:03:00.344506Z Stopped </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">I 2020-07-30T05:03:00.345422Z Stopped </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">I 2020-07-30T05:03:00.346547Z Stopped </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">I 2020-07-30T05:03:00.347267Z 1 - Member deactivated: Member{id=1, address=zeebe-chaos-zeebe-1.zeebe-chaos-zeebe.zeebe-chaos.svc.cluster.local:26502, properties={brokerInfo=EADJAAAAAQABAAAAAwAAAAMAAAADAAAAAAABCgAAAGNvbW1hbmRBcGlJAAAAemVlYmUtY2hhb3MtemVlYmUtMS56ZWViZS1jaGFvcy16ZWViZS56ZWViZS1jaGFvcy5zdmMuY2x1c3Rlci5sb2NhbDoyNjUwMQUAAAwAAA8AAAAwLjI1LjAtU05BUFNIT1Q=}} </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">I 2020-07-30T05:03:00.347747Z Stopped </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">I 2020-07-30T05:03:00.348326Z Left </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">I 2020-07-30T05:03:00.349083Z Stopped </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">I 2020-07-30T05:03:04.364059Z Stopped </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">I 2020-07-30T05:03:04.364994Z Stopped </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">D 2020-07-30T05:03:04.365955Z Closing Broker-1 [9/10]: membership and replication protocol closed in 4043 ms </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">I 2020-07-30T05:03:04.366433Z Closing Broker-1 [10/10]: actor scheduler </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">D 2020-07-30T05:03:04.366879Z Closing blocking task runner </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">D 2020-07-30T05:03:04.367217Z Closing actor thread ground &#x27;Broker-1-zb-fs-workers&#x27; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">D 2020-07-30T05:03:04.368641Z Closing actor thread ground &#x27;Broker-1-zb-fs-workers&#x27;: closed successfully </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">D 2020-07-30T05:03:04.369018Z Closing actor thread ground &#x27;Broker-1-zb-actors&#x27; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">D 2020-07-30T05:03:04.369955Z Closing blocking task runner: closed successfully </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">D 2020-07-30T05:03:04.370112Z Closing actor thread ground &#x27;Broker-1-zb-actors&#x27;: closed successfully </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">D 2020-07-30T05:03:04.371034Z Closing Broker-1 [10/10]: actor scheduler closed in 4 ms </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">I 2020-07-30T05:03:04.371414Z Closing Broker-1 succeeded. Closed 10 steps in 6080 ms. </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">E 2020-07-30T05:03:04.371769Z Failed to start broker 1! </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This is works without problems. I think this is good to know.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="code">Code<a href="#code" class="hash-link" aria-label="Direct link to Code" title="Direct link to Code">​</a></h3>
<p>To deploy a benchmark without exporters we had to do a <code>helm template</code> and remove all exporter related env variables.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="participants">Participants<a href="#participants" class="hash-link" aria-label="Direct link to Participants" title="Direct link to Participants">​</a></h2>
<ul>
<li>@zelldon</li>
</ul></div><footer class="docusaurus-mt-lg"><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><a href="https://github.com/zeebe-io/zeebe-chaos/blob/master/chaos-days/blog/2020-07-30-experiment-without-exporters/index.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/zeebe-chaos/2020/08/06/low-load"><div class="pagination-nav__sublabel">Newer post</div><div class="pagination-nav__label">Experiment with Low Load</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/zeebe-chaos/2020/07/16/big-multi-instance"><div class="pagination-nav__sublabel">Older post</div><div class="pagination-nav__label">Big Multi Instance</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#chaos-experiment" class="table-of-contents__link toc-highlight">Chaos Experiment</a><ul><li><a href="#expected" class="table-of-contents__link toc-highlight">Expected</a></li><li><a href="#actual" class="table-of-contents__link toc-highlight">Actual</a></li><li><a href="#code" class="table-of-contents__link toc-highlight">Code</a></li></ul></li><li><a href="#participants" class="table-of-contents__link toc-highlight">Participants</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/zeebe" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://forum.camunda.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/Camunda" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/zeebe-io/zeebe-chaos/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Zeebe Chaos. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>